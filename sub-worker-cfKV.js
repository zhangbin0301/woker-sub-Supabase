// worker设置里面添加变量PSWD(登录密码)
// 存储和数据库--WorkersKV Create Instance 命名空间名称 KV 创建 （绑定变量名为 KV 的 KV 命名空间）
// **************************************************************************
// ** 重要: 要启用计划删除任务，请在 Cloudflare Worker 的设置 -> 触发事件Triggers -> Cron触发事件Triggers 中添加一个 Cron 表达式。
// ** 例如: '0 20 * * *' (每天 4:00 删除)
// **************************************************************************

// 基础参数配置
const CONFIG = {
	UUID: 'ea4909ef-7ca6-4b46-bf2e-6c07896ef338',  // 登录地址/sub-uuid
	TOKEN: '111', // api路径
    UP: 'ea4909ef-7ca6-4b46-bf2e-6c07896ef338',           // 节点上传密钥
    DO: 'lgbt',          // 订阅地址密钥
    DEFAULT_DOMAIN: '', //  默认即可，无需设置
    EXPIRATION_TIME: 86400000,     // 链接有效期(s),有效期内未及时更新的节点移除
    MAX_LOGIN_ATTEMPTS: 3,     // 最大登录尝试次数
    BACKGROUND_IMAGE: 'https://media.istockphoto.com/id/508515231/photo/feeling-free-to-express-her-sensuality.jpg?s=1024x1024&w=is&k=20&c=959xvWit4gR8btZtd7FmzTIkqzSwyB8zLIacQyQfLIk=;https://media.istockphoto.com/id/520980967/photo/sexy-beautiful-woman-in-lingerie.jpg?s=612x612&w=is&k=20&c=ciVJawZ8X8wrnyhK3GWaypMzus09kwuT7vildArZ20Q=;https://media.istockphoto.com/id/506435758/photo/beautyful-young-blond-woman-sitting-next-to-the-balkony-door.jpg?s=1024x1024&w=is&k=20&c=BeDnqv_dt3XPN00IVVuO0eJo6kA362nXBlDxBsUX-_8=;https://media.istockphoto.com/id/187150159/photo/naked-girl-in-water-on-a-black-background.jpg?s=1024x1024&w=is&k=20&c=IyxsYlzFJlJVYDDIkkZX3lw6nWYfcvVYVOpPnoM1sBk=;https://media.istockphoto.com/id/538127701/photo/female-torso-with-bra-on-black-background.jpg?s=612x612&w=is&k=20&c=Z1Na-xQxSiXEpf2RvC9MfeVWKssTXx36653LYzbh2oo=;https://cdn.pixabay.com/photo/2024/07/03/15/40/beauty-8870258_1280.png?q=80&w=1280;https://media.istockphoto.com/id/1077567800/photo/hot-young-adult-proud-and-domineering-woman-dressed-in-a-long-scarlet-red-long-dress-sexually.jpg?s=612x612&w=is&k=20&c=Ow7PyaUo2YZ1YDnnlPY3PJlmB9C_x5O9XYjR4Q_xd3U=;https://media.istockphoto.com/id/1077591134/photo/free-your-femininity.jpg?s=612x612&w=is&k=20&c=FqZHQjWLmL7yAslJLYIMPjF7LlXAIZAM9AR6bGHgE1g=;https://media.istockphoto.com/id/1156676927/photo/fashionable-studio-portrait-of-a-sport-girl.jpg?s=612x612&w=is&k=20&c=d4XhyoPnemNVTQBzK5gTb6t8n1un5m9vrZsgbihmS1U=;https://media.istockphoto.com/id/536720005/photo/looking-sensual-in-red.jpg?s=612x612&w=is&k=20&c=eCg7_4FCLHztU8fVuYIpwzezzbyRpw5FHZTS7GF9OHU='
};

// 排除包含关键词的节点,分号隔开.目的是移除个别失效节点
const excludeKeywords = 'GB-eu.com;TW-free.tw';
const _0x358ab6=_0x5e99;(function(_0x56e040,_0x38d1dd){const _0x45ffe2=_0x5e99,_0x4eaf2a=_0x56e040();while(!![]){try{const _0x402128=-parseInt(_0x45ffe2(0xec))/0x1*(-parseInt(_0x45ffe2(0xe5))/0x2)+parseInt(_0x45ffe2(0x122))/0x3*(parseInt(_0x45ffe2(0xe3))/0x4)+parseInt(_0x45ffe2(0x133))/0x5*(-parseInt(_0x45ffe2(0xf3))/0x6)+-parseInt(_0x45ffe2(0xb7))/0x7+parseInt(_0x45ffe2(0x14d))/0x8+parseInt(_0x45ffe2(0xb2))/0x9+parseInt(_0x45ffe2(0xff))/0xa;if(_0x402128===_0x38d1dd)break;else _0x4eaf2a['push'](_0x4eaf2a['shift']());}catch(_0x1060a4){_0x4eaf2a['push'](_0x4eaf2a['shift']());}}}(_0x419b,0x7a116));const PROTOCOL={'xieyi':'vl','xieyi2':_0x358ab6(0x109),'pm':'vm'},html=_0x358ab6(0xdd)+CONFIG[_0x358ab6(0x106)]+_0x358ab6(0xcc)+CONFIG['TOKEN']+_0x358ab6(0x112)+CONFIG['UP']+'\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20DO\x20=\x20\x27'+CONFIG['DO']+_0x358ab6(0x119)+CONFIG[_0x358ab6(0x143)]+_0x358ab6(0x127)+CONFIG['BACKGROUND_IMAGE']+'\x27.split(\x27;\x27).filter(url\x20=>\x20url.trim());\x0a\x20\x20\x20\x20\x20\x20\x20\x20let\x20currentBackgroundIndex\x20=\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20let\x20loginAttempts\x20=\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20let\x20isLoggedIn\x20=\x20false;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20function\x20setBackgroundImage(imageUrl)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20document.body.style.backgroundImage\x20=\x20`url(\x27${imageUrl}\x27)`;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20function\x20loadNextBackground()\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(BACKGROUND_IMAGES.length\x20>\x200)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20currentBackgroundIndex\x20=\x20(currentBackgroundIndex\x20+\x201)\x20%\x20BACKGROUND_IMAGES.length;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20setBackgroundImage(BACKGROUND_IMAGES[currentBackgroundIndex]);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20function\x20handleImageError()\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20loadNextBackground()\x0a\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20function\x20initBackground()\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(BACKGROUND_IMAGES.length\x20>\x200)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20randomIndex\x20=\x20Math.floor(Math.random()\x20*\x20BACKGROUND_IMAGES.length);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20currentBackgroundIndex\x20=\x20randomIndex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20imageUrl\x20=\x20BACKGROUND_IMAGES[randomIndex];\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20img\x20=\x20new\x20Image();\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20img.onload\x20=\x20()\x20=>\x20setBackgroundImage(imageUrl);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20img.onerror\x20=\x20handleImageError;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20img.src\x20=\x20imageUrl;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20initBackground();\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20function\x20showTab(tabId)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20tabs\x20=\x20[\x27home\x27,\x20\x27upload\x27,\x20\x27sub2\x27,\x20\x27keywords\x27];\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tabs.forEach(id\x20=>\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20document.getElementById(id).classList.remove(\x27active\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20});\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20document.getElementById(tabId).classList.add(\x27active\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20function\x20getDomain()\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20window.location.origin\x20||\x20\x27https://'+CONFIG[_0x358ab6(0xe0)]+_0x358ab6(0xda);function preProcessUrl(_0x5528e4){const _0x7f261e=_0x358ab6;let _0xe04512=![];(_0x5528e4[_0x7f261e(0xa8)]('{BASS}://')||_0x5528e4[_0x7f261e(0xa8)](PROTOCOL['pm']+_0x7f261e(0xf4)))&&_0x5528e4[_0x7f261e(0xb8)]('://')[0x1]['charAt'](0x0)!=='{'&&(_0xe04512=!![]);if(_0xe04512)try{let _0x943fca=_0x5528e4[_0x7f261e(0xb8)](_0x7f261e(0xad))[0x1],_0x4546f2=atob(_0x943fca),_0x180c84=PROTOCOL['pm']+_0x7f261e(0xf4)+_0x4546f2;return _0x180c84['replace'](/\{PASS\}\-/g,'')[_0x7f261e(0xb1)](/\{PA/g,PROTOCOL['xieyi'])[_0x7f261e(0xb1)](/SS\}/g,PROTOCOL[_0x7f261e(0xcf)])[_0x7f261e(0xb1)](/\{BA/g,PROTOCOL['pm']);}catch(_0x193fdd){return console[_0x7f261e(0xc5)](_0x7f261e(0xf2),_0x193fdd,_0x5528e4),_0x5528e4;}else return _0x5528e4[_0x7f261e(0xb1)](/\{PASS\}\-/g,'')['replace'](/\{PA/g,PROTOCOL['xieyi'])[_0x7f261e(0xb1)](/SS\}/g,PROTOCOL[_0x7f261e(0xcf)])[_0x7f261e(0xb1)](/\{BA/g,PROTOCOL['pm']);}async function shouldExcludeUrlByKV(_0x358156,_0x35b2b6){const _0x34a8ff=_0x358ab6,_0x2fda48=await getExcludeKeywords(_0x35b2b6),_0x2c876e=(excludeKeywords||'')[_0x34a8ff(0xb8)](';')[_0x34a8ff(0x11f)](_0xe4fe9f=>_0xe4fe9f[_0x34a8ff(0x10b)]())[_0x34a8ff(0x100)](_0x2bc0a4=>_0x2bc0a4),_0x329235=[...new Set([..._0x2fda48,..._0x2c876e])];if(typeof _0x358156!=='string')return console[_0x34a8ff(0xcd)](_0x34a8ff(0xba),_0x358156),![];return _0x329235[_0x34a8ff(0x147)](_0x17417a=>_0x17417a&&_0x358156[_0x34a8ff(0xd5)](_0x17417a));}async function getAllUrls(_0x4741a3){const _0x57bc94=_0x358ab6;try{const _0x335c96=await _0x4741a3['KV']['list']({'prefix':_0x57bc94(0x13a)}),_0x29c070=await Promise[_0x57bc94(0x140)](_0x335c96[_0x57bc94(0x121)][_0x57bc94(0x11f)](async _0x4c82b4=>{const _0x2841cc=_0x57bc94,_0x207524=await _0x4741a3['KV'][_0x2841cc(0x129)](_0x4c82b4[_0x2841cc(0xe9)]);if(_0x207524)try{const _0x1e9238=JSON[_0x2841cc(0x14b)](_0x207524);if(_0x1e9238&&_0x1e9238['url']&&typeof _0x1e9238[_0x2841cc(0xfb)]===_0x2841cc(0x12d))return{'url':_0x1e9238[_0x2841cc(0xfb)],'urlName':_0x4c82b4['name'][_0x2841cc(0xab)](0x4)};else console[_0x2841cc(0xcd)](_0x2841cc(0xde)+_0x4c82b4['name']+':',_0x207524);}catch(_0x24c1b7){console[_0x2841cc(0xc5)](_0x2841cc(0xaa),_0x4c82b4[_0x2841cc(0xe9)],_0x24c1b7,_0x207524);}return null;}));return _0x29c070['filter'](_0x2f47cc=>_0x2f47cc!==null);}catch(_0x46756a){return console[_0x57bc94(0xc5)](_0x57bc94(0xc9),_0x46756a),[];}}async function getSub2Urls(_0x54021a){const _0x4f6561=_0x358ab6;try{const _0x4bbddb=await _0x54021a['KV'][_0x4f6561(0x129)](_0x4f6561(0xd1));if(_0x4bbddb)try{const _0x380822=JSON[_0x4f6561(0x14b)](_0x4bbddb);if(Array[_0x4f6561(0xd0)](_0x380822))return _0x380822[_0x4f6561(0x100)](_0x26f0f9=>typeof _0x26f0f9===_0x4f6561(0x12d));else console[_0x4f6561(0xcd)]('KV\x20sub2_urls\x20is\x20not\x20an\x20array:',_0x380822);}catch(_0x52ad10){console[_0x4f6561(0xc5)]('Error\x20parsing\x20sub2_urls\x20from\x20KV:',_0x52ad10,_0x4bbddb);}return[];}catch(_0x440464){return console['error'](_0x4f6561(0x139),_0x440464),[];}}async function getExcludeKeywords(_0x4be780){const _0x5573bd=_0x358ab6;try{const _0x356fea=await _0x4be780['KV'][_0x5573bd(0x129)](_0x5573bd(0xe4));if(_0x356fea)try{const _0x32c1de=JSON[_0x5573bd(0x14b)](_0x356fea);if(Array['isArray'](_0x32c1de))return _0x32c1de[_0x5573bd(0x100)](_0x4b1357=>typeof _0x4b1357===_0x5573bd(0x12d));else console[_0x5573bd(0xcd)](_0x5573bd(0x12e),_0x32c1de);}catch(_0x4500eb){console['error'](_0x5573bd(0x11a),_0x4500eb,_0x356fea);}return[];}catch(_0x2c12eb){return console['error'](_0x5573bd(0x105),_0x2c12eb),[];}}async function updateExcludeKeywords(_0x328486,_0x17f38b){const _0x3f47cd=_0x358ab6;try{const _0x194ada=Array[_0x3f47cd(0xd0)](_0x17f38b)?_0x17f38b[_0x3f47cd(0x100)](_0x41139d=>typeof _0x41139d==='string'):[];await _0x328486['KV'][_0x3f47cd(0xd4)](_0x3f47cd(0xe4),JSON[_0x3f47cd(0xed)](_0x194ada));}catch(_0x506e00){console[_0x3f47cd(0xc5)](_0x3f47cd(0xb6),_0x506e00);}}export default{async 'fetch'(_0x166627,_0xa49ac7,_0x11d6d6){const _0x1f376a=_0x358ab6;try{const _0x4f3ddb=await handleRequest(_0x166627,_0xa49ac7);return _0x4f3ddb;}catch(_0x327a1c){return console[_0x1f376a(0xc5)](_0x1f376a(0x125)+_0x166627['method']+'\x20'+_0x166627[_0x1f376a(0xfb)]+':',_0x327a1c),new Response('Internal\x20Server\x20Error',{'status':0x1f4});}},async 'scheduled'(_0x4d1df9,_0x3b3961,_0x1dce44){const _0x313d36=_0x358ab6;console[_0x313d36(0x102)](_0x313d36(0xb4)+_0x4d1df9[_0x313d36(0x135)]+'\x20at\x20'+new Date(_0x4d1df9[_0x313d36(0x12f)])[_0x313d36(0xfd)]());try{const _0x46d335=_0x3b3961['KV'];console[_0x313d36(0x102)](_0x313d36(0xc2));const _0x3d36c9=await _0x46d335['list']({'prefix':'url_'});if(_0x3d36c9[_0x313d36(0x121)][_0x313d36(0xae)]===0x0){console[_0x313d36(0x102)]('Scheduled\x20task:\x20No\x20auto-uploaded\x20nodes\x20(prefix\x20\x22url_\x22)\x20found\x20to\x20delete.');return;}console[_0x313d36(0x102)]('Scheduled\x20task:\x20Found\x20'+_0x3d36c9[_0x313d36(0x121)]['length']+_0x313d36(0x123));const _0x1c340f=_0x3d36c9[_0x313d36(0x121)][_0x313d36(0x11f)](_0x318836=>{const _0x180a2b=_0x313d36;return console[_0x180a2b(0x102)](_0x180a2b(0xd6)+_0x318836[_0x180a2b(0xe9)]),_0x46d335[_0x180a2b(0x134)](_0x318836[_0x180a2b(0xe9)]);});_0x1dce44[_0x313d36(0xf8)](Promise[_0x313d36(0x140)](_0x1c340f)[_0x313d36(0x10f)](_0x5bee7b=>{const _0x4bb8de=_0x313d36;console[_0x4bb8de(0x102)](_0x4bb8de(0xeb)+_0x5bee7b['length']+_0x4bb8de(0xcb));})['catch'](_0x56da54=>{const _0x4f20fd=_0x313d36;console['error'](_0x4f20fd(0xd9),_0x56da54);})),console['log'](_0x313d36(0x137)+_0x3d36c9[_0x313d36(0x121)][_0x313d36(0xae)]+'\x20nodes.');}catch(_0x340e13){console['error'](_0x313d36(0x132),_0x340e13);}}};const urlUpdateTimestamps=new Map();async function handleRequest(_0x53bdb1,_0x49a2d1){const _0x54306e=_0x358ab6,_0x4eaeb3=new URL(_0x53bdb1[_0x54306e(0xfb)]),_0x3e8171=_0x4eaeb3[_0x54306e(0xdc)],_0x83fee1=_0x3e8171[_0x54306e(0xa8)](_0x54306e(0x149))||_0x3e8171[_0x54306e(0xa8)](_0x54306e(0x12a))||_0x3e8171['startsWith'](_0x54306e(0xc7));if(_0x3e8171===_0x54306e(0x128)&&_0x53bdb1['method']==='POST')return handleLogin(_0x53bdb1,_0x49a2d1);if(_0x3e8171===_0x54306e(0xef)+CONFIG[_0x54306e(0x106)])return new Response(html,{'headers':{'content-type':'text/html;charset=UTF-8'}});if(_0x3e8171===_0x54306e(0xbb)+CONFIG[_0x54306e(0x106)])return handleGetUrls(_0x49a2d1);else{if(_0x3e8171===_0x54306e(0x14a)+CONFIG[_0x54306e(0x106)]&&_0x53bdb1[_0x54306e(0x10e)]==='POST')return handleDeleteUrl(_0x53bdb1,_0x49a2d1);else{if(_0x3e8171===_0x54306e(0x11d)+CONFIG[_0x54306e(0x106)]&&_0x53bdb1['method']===_0x54306e(0x126))return handleDeleteAllUrls(_0x49a2d1);else{if(_0x3e8171===_0x54306e(0x103)+CONFIG[_0x54306e(0x106)]&&_0x53bdb1[_0x54306e(0x10e)]===_0x54306e(0x126))return handleUpdateSub2(_0x53bdb1,_0x49a2d1);else{if(_0x3e8171===_0x54306e(0xe1)+CONFIG[_0x54306e(0x106)])return handleGetSub2(_0x49a2d1);else{if(_0x3e8171==='/delete-sub2-'+CONFIG[_0x54306e(0x106)]&&_0x53bdb1['method']===_0x54306e(0x126))return handleDeleteSub2(_0x53bdb1,_0x49a2d1);else{if(_0x3e8171===_0x54306e(0x110)+CONFIG[_0x54306e(0x106)]&&_0x53bdb1[_0x54306e(0x10e)]===_0x54306e(0x126))return handleDeleteAllSub2Urls(_0x49a2d1);else{if(_0x3e8171===_0x54306e(0xbf)+CONFIG['UUID']&&_0x53bdb1[_0x54306e(0x10e)]===_0x54306e(0x126))return handleUpdateKeywordsRequest(_0x53bdb1,_0x49a2d1);else{if(_0x3e8171===_0x54306e(0xfa)+CONFIG[_0x54306e(0x106)])return handleGetKeywordsRequest(_0x49a2d1);else{if(_0x3e8171==='/delete-keyword-'+CONFIG['UUID']&&_0x53bdb1[_0x54306e(0x10e)]===_0x54306e(0x126))return handleDeleteKeyword(_0x53bdb1,_0x49a2d1);else{if(_0x3e8171==='/delete-all-keywords-'+CONFIG['UUID']&&_0x53bdb1['method']===_0x54306e(0x126))return handleDeleteAllKeywords(_0x49a2d1);else{if(_0x3e8171===_0x54306e(0x141)+CONFIG['UP']&&_0x53bdb1['method']==='POST')return handleUpload(_0x53bdb1,_0x49a2d1);else{if(_0x3e8171===_0x54306e(0xbd)+CONFIG['DO'])return handleToken(_0x53bdb1,_0x49a2d1);else{if(_0x3e8171==='/'||_0x3e8171==='')return new Response(_0x54306e(0x130),{'headers':{'content-type':'text/plain'}});return new Response('Not\x20Found',{'status':0x194});}}}}}}}}}}}}}}async function handleLogin(_0x49d3e6,_0x28ad22){const _0x5789f1=_0x358ab6;try{const {password:_0x1085a5}=await _0x49d3e6[_0x5789f1(0xc4)](),_0x452228=_0x28ad22['PSWD'];if(!_0x452228)return console[_0x5789f1(0xc5)]('PSWD\x20environment\x20variable\x20not\x20set!'),new Response(JSON['stringify']({'success':![],'message':_0x5789f1(0x111)}),{'headers':{'Content-Type':'application/json'},'status':0x1f4});return _0x1085a5===_0x452228?new Response(JSON[_0x5789f1(0xed)]({'success':!![]}),{'headers':{'Content-Type':_0x5789f1(0xc8)}}):(console['warn'](_0x5789f1(0x11b)+_0x49d3e6[_0x5789f1(0xfb)]),new Response(JSON[_0x5789f1(0xed)]({'success':![],'message':'Incorrect\x20password.'}),{'headers':{'Content-Type':_0x5789f1(0xc8)},'status':0x191}));}catch(_0x26ac6f){return console['error'](_0x5789f1(0x145),_0x26ac6f),new Response(JSON[_0x5789f1(0xed)]({'success':![],'message':'Invalid\x20request\x20format\x20or\x20server\x20error.'}),{'headers':{'Content-Type':_0x5789f1(0xc8)},'status':0x190});}}async function handleGetUrls(_0x58f0be){const _0x43f26d=_0x358ab6,_0x9f4f7e=await getAllUrls(_0x58f0be);return new Response(JSON['stringify']({'urls':_0x9f4f7e}),{'headers':{'Content-Type':_0x43f26d(0xc8)}});}async function handleDeleteUrl(_0x6eed3c,_0x3d40f8){const _0xd1de81=_0x358ab6;try{const {urlName:_0x412654}=await _0x6eed3c[_0xd1de81(0xc4)]();if(!_0x412654||typeof _0x412654!=='string')return new Response(_0xd1de81(0xca),{'status':0x190});return await _0x3d40f8['KV'][_0xd1de81(0x134)]('url_'+_0x412654),console[_0xd1de81(0x102)](_0xd1de81(0x13b)+_0x412654),new Response('OK',{'status':0xc8});}catch(_0x1d0fde){return console[_0xd1de81(0xc5)](_0xd1de81(0x138),_0x1d0fde),new Response('Error\x20deleting\x20URL',{'status':0x1f4});}}async function handleDeleteAllUrls(_0x19a66b){const _0x286ee9=_0x358ab6;try{const _0x4da643=await _0x19a66b['KV']['list']({'prefix':'url_'});if(_0x4da643[_0x286ee9(0x121)][_0x286ee9(0xae)]===0x0)return new Response(_0x286ee9(0x13c),{'status':0xc8});const _0x113de1=_0x4da643[_0x286ee9(0x121)][_0x286ee9(0x11f)](_0x3d0a0a=>_0x19a66b['KV'][_0x286ee9(0x134)](_0x3d0a0a[_0x286ee9(0xe9)]));return await Promise[_0x286ee9(0x140)](_0x113de1),console['log']('Manually\x20deleted\x20'+_0x4da643['keys'][_0x286ee9(0xae)]+_0x286ee9(0x113)),new Response('OK',{'status':0xc8});}catch(_0x37de99){return console[_0x286ee9(0xc5)](_0x286ee9(0x142),_0x37de99),new Response(_0x286ee9(0x124),{'status':0x1f4});}}async function handleUpdateSub2(_0xb9ee3e,_0x4864b3){const _0x39bbba=_0x358ab6;try{const {urls:_0x168327}=await _0xb9ee3e[_0x39bbba(0xc4)]();if(!Array[_0x39bbba(0xd0)](_0x168327))return new Response('Invalid\x20URLs\x20format:\x20Expected\x20an\x20array.',{'status':0x190});const _0x2cf387=await getSub2Urls(_0x4864b3),_0x195c8e=_0x168327[_0x39bbba(0x11f)](_0x1b2d27=>typeof _0x1b2d27===_0x39bbba(0x12d)?preProcessUrl(_0x1b2d27[_0x39bbba(0x10b)]()):null)['filter'](_0x53ec54=>_0x53ec54);let _0x1164a9=[..._0x2cf387];for(const _0x2eec74 of _0x195c8e){!_0x1164a9[_0x39bbba(0xd5)](_0x2eec74)&&!await shouldExcludeUrlByKV(_0x2eec74,_0x4864b3)&&_0x1164a9[_0x39bbba(0xf6)](_0x2eec74);}return await _0x4864b3['KV'][_0x39bbba(0xd4)](_0x39bbba(0xd1),JSON[_0x39bbba(0xed)](_0x1164a9)),console[_0x39bbba(0x102)]('Updated\x20sub2_urls\x20with\x20'+_0x195c8e[_0x39bbba(0xae)]+_0x39bbba(0xb3)),new Response('OK',{'status':0xc8});}catch(_0x2884b8){return console['error']('Error\x20updating\x20sub2_urls:',_0x2884b8),new Response(_0x39bbba(0x107),{'status':0x1f4});}}async function handleGetSub2(_0x539f43){const _0x1059e7=_0x358ab6,_0x31ba98=await getSub2Urls(_0x539f43);return new Response(JSON[_0x1059e7(0xed)]({'urls':_0x31ba98}),{'headers':{'Content-Type':_0x1059e7(0xc8)}});}async function handleDeleteSub2(_0x821b32,_0x54e870){const _0x52d70c=_0x358ab6;try{const {index:_0x448f6c}=await _0x821b32['json']();if(typeof _0x448f6c!==_0x52d70c(0xaf)||!Number['isInteger'](_0x448f6c)||_0x448f6c<0x0)return new Response(_0x52d70c(0x136),{'status':0x190});const _0x3d788e=await getSub2Urls(_0x54e870);if(_0x448f6c>=_0x3d788e[_0x52d70c(0xae)])return new Response(_0x52d70c(0xea),{'status':0x190});const _0x3342a0=_0x3d788e['splice'](_0x448f6c,0x1);return await _0x54e870['KV'][_0x52d70c(0xd4)](_0x52d70c(0xd1),JSON['stringify'](_0x3d788e)),console[_0x52d70c(0x102)](_0x52d70c(0x10c)+_0x448f6c+':\x20'+_0x3342a0[0x0]),new Response('OK',{'status':0xc8});}catch(_0x1efaed){return console[_0x52d70c(0xc5)](_0x52d70c(0xd2),_0x1efaed),new Response(_0x52d70c(0xf9),{'status':0x1f4});}}async function handleDeleteAllSub2Urls(_0x4a0b90){const _0x17deb5=_0x358ab6;try{return await _0x4a0b90['KV'][_0x17deb5(0x134)](_0x17deb5(0xd1)),console['log'](_0x17deb5(0xe2)),new Response('OK',{'status':0xc8});}catch(_0x1eb7f7){return console[_0x17deb5(0xc5)](_0x17deb5(0x115),_0x1eb7f7),new Response(_0x17deb5(0xd7),{'status':0x1f4});}}function _0x5e99(_0x2af82b,_0xc3cb48){const _0x419ba0=_0x419b();return _0x5e99=function(_0x5e991c,_0x3f5a7e){_0x5e991c=_0x5e991c-0xa8;let _0x3721b2=_0x419ba0[_0x5e991c];return _0x3721b2;},_0x5e99(_0x2af82b,_0xc3cb48);}async function handleUpdateKeywordsRequest(_0x423f9e,_0x779d0a){const _0x373d5c=_0x358ab6;try{const {newKeywords:_0x373797}=await _0x423f9e[_0x373d5c(0xc4)]();if(!Array[_0x373d5c(0xd0)](_0x373797))return new Response('Invalid\x20keywords\x20format:\x20Expected\x20an\x20array.',{'status':0x190});const _0x275011=_0x373797[_0x373d5c(0x11f)](_0x2334a8=>typeof _0x2334a8===_0x373d5c(0x12d)?_0x2334a8[_0x373d5c(0x10b)]():null)[_0x373d5c(0x100)](_0x531022=>_0x531022),_0x29cbb4=await getExcludeKeywords(_0x779d0a),_0x15dabb=[...new Set([..._0x29cbb4,..._0x275011])][_0x373d5c(0xbe)]();return await updateExcludeKeywords(_0x779d0a,_0x15dabb),console['log'](_0x373d5c(0x146)+_0x15dabb[_0x373d5c(0xae)]),new Response('OK',{'status':0xc8});}catch(_0x4fa4cd){return console[_0x373d5c(0xc5)](_0x373d5c(0xfe),_0x4fa4cd),new Response('Error\x20updating\x20keywords',{'status':0x1f4});}}async function handleGetKeywordsRequest(_0x23d1ce){const _0x25e354=_0x358ab6,_0x3b6129=await getExcludeKeywords(_0x23d1ce);return new Response(JSON[_0x25e354(0xed)]({'keywords':_0x3b6129}),{'headers':{'Content-Type':'application/json'}});}function _0x419b(){const _0x396afd=['Error\x20deleting\x20all\x20sub2\x20URLs','CloudflareWorkerSubAggregator/1.0','Scheduled\x20task:\x20Error\x20during\x20batch\x20deletion:','\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20function\x20showLoading(show)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20loadingDiv\x20=\x20document.getElementById(\x27loading\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20loadingDiv.style.display\x20=\x20show\x20?\x20\x27block\x27\x20:\x20\x27none\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20async\x20function\x20login()\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20password\x20=\x20document.getElementById(\x27password\x27).value;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20errorMsg\x20=\x20document.getElementById(\x27errorMessage\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20loginBtn\x20=\x20document.getElementById(\x27loginBtn\x27);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(isLoggedIn){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20document.getElementById(\x27infoBox\x27).style.display\x20=\x20\x27block\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20showLoading(true);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20loginBtn.disabled\x20=\x20true;\x20//\x20Disable\x20login\x20button\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20errorMsg.style.display\x20=\x20\x27none\x27;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20try{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20response\x20=\x20await\x20fetch(`${getDomain()}/login`,\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20method:\x20\x27POST\x27,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20headers:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x27Content-Type\x27:\x20\x27application/json\x27,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20},\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body:\x20JSON.stringify({\x20password\x20}),\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20});\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(response.ok)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20data\x20=\x20await\x20response.json();\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(data.success){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20isLoggedIn\x20=\x20true;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20document.getElementById(\x27infoBox\x27).style.display\x20=\x20\x27block\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20showTab(\x27home\x27);\x20//默认显示首页\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20errorMsg.style.display\x20=\x20\x27none\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20domain\x20=\x20getDomain();\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20document.getElementById(\x27uploadUrl\x27).textContent\x20=\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20`${domain}/upload-${UP}`;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20document.getElementById(\x27downloadUrl\x27).textContent\x20=\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20`${domain}/token=${DO}?cf_ip=ip.sb&cf_port=443`;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20loadSub2();\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20loadUrls();\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20loadKeywords();\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}else{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20loginAttempts++;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20remainingAttempts\x20=\x20MAX_ATTEMPTS\x20-\x20loginAttempts;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(loginAttempts\x20>=\x20MAX_ATTEMPTS)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20errorMsg.textContent\x20=\x20\x27登录尝试次数已用完，请稍后再试\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20loginBtn.disabled\x20=\x20true;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20document.getElementById(\x27password\x27).disabled\x20=\x20true;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20errorMsg.textContent\x20=\x20`密码错误，还剩\x20${remainingAttempts}\x20次尝试机会`;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20errorMsg.style.display\x20=\x20\x27block\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}else{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20errorMsg.textContent\x20=\x20\x27登录失败，请重试\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20errorMsg.style.display\x20=\x20\x27block\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}catch(error){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20errorMsg.textContent\x20=\x20\x27网络错误，请重试\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20errorMsg.style.display\x20=\x20\x27block\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x20finally\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20showLoading(false);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20Only\x20re-enable\x20if\x20not\x20logged\x20in\x20and\x20attempts\x20remain\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(!isLoggedIn\x20&&\x20loginAttempts\x20<\x20MAX_ATTEMPTS)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20loginBtn.disabled\x20=\x20false;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20function\x20copyToClipboard(elementId)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20text\x20=\x20document.getElementById(elementId).textContent;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20navigator.clipboard.writeText(text).then(()\x20=>\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20alert(\x27已复制到剪贴板\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}).catch(err\x20=>\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20console.error(\x27复制失败:\x27,\x20err);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20});\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20上传节点管理\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20async\x20function\x20loadUrls()\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(!isLoggedIn)\x20return;\x20//\x20Don\x27t\x20load\x20if\x20not\x20logged\x20in\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20try\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20response\x20=\x20await\x20fetch(`${getDomain()}/get-urls-${UUID}`);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(response.ok)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20data\x20=\x20await\x20response.json();\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20listContainer\x20=\x20document.getElementById(\x27currentList\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20listContainer.innerHTML\x20=\x20\x27\x27;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data.urls.forEach((item,\x20index)\x20=>\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20listItem\x20=\x20document.createElement(\x27div\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20listItem.className\x20=\x20\x27list-item\x27;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20urlSpan\x20=\x20document.createElement(\x27span\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20urlSpan.className\x20=\x20\x27list-url\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20urlSpan.textContent\x20=\x20item.urlName;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20deleteBtn\x20=\x20document.createElement(\x27button\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20deleteBtn.className\x20=\x20\x27delete-btn\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20deleteBtn.textContent\x20=\x20\x27删除\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20deleteBtn.onclick\x20=\x20()\x20=>\x20deleteUrl(item.urlName);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20listItem.appendChild(urlSpan);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20listItem.appendChild(deleteBtn);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20listContainer.appendChild(listItem);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20});\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20console.error(\x27Failed\x20to\x20load\x20URLs:\x27,\x20response.statusText);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20Maybe\x20show\x20an\x20error\x20to\x20the\x20user\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x20catch\x20(error)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20console.error(\x27Error\x20loading\x20URLs:\x27,\x20error);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20Maybe\x20show\x20an\x20error\x20to\x20the\x20user\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20async\x20function\x20deleteUrl(urlName)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(!isLoggedIn)\x20return;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20try\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20response\x20=\x20await\x20fetch(`${getDomain()}/delete-url-${UUID}`,\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20method:\x20\x27POST\x27,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20headers:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x27Content-Type\x27:\x20\x27application/json\x27,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20},\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body:\x20JSON.stringify({\x20urlName\x20})\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20});\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(response.ok)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20loadUrls();\x20//\x20Refresh\x20the\x20list\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20alert(\x27删除失败，请重试\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x20catch\x20(error)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20alert(\x27删除操作时发生错误\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20console.error(\x27Error\x20deleting\x20URL:\x27,\x20error);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20async\x20function\x20deleteAllUrls(){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(!isLoggedIn)\x20return;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(!confirm(\x27确定要删除所有自动上传的节点吗？此操作不可撤销。\x27))\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20try\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20response\x20=\x20await\x20fetch(`${getDomain()}/delete-all-urls-${UUID}`,{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20method:\x20\x27POST\x27\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20});\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(response.ok)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20loadUrls();\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20alert(\x27所有自动上传节点已删除\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20alert(\x27全部删除失败，请重试\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x20catch\x20(error)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20alert(\x27删除操作时发生错误\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20console.error(\x27Error\x20deleting\x20all\x20URLs:\x27,\x20error);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20async\x20function\x20updateSub2()\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(!isLoggedIn)\x20return;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20content\x20=\x20document.getElementById(\x27sub2Input\x27).value;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20urls\x20=\x20content.split(\x27\x5cn\x27).filter(url\x20=>\x20url.trim());\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20try\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20response\x20=\x20await\x20fetch(`${getDomain()}/update-sub2-${UUID}`,\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20method:\x20\x27POST\x27,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20headers:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x27Content-Type\x27:\x20\x27application/json\x27,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20},\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body:\x20JSON.stringify({\x20urls\x20})\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20});\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(response.ok)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20successMsg\x20=\x20document.getElementById(\x27sub2SuccessMessage\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20successMsg.style.display\x20=\x20\x27block\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20setTimeout(()\x20=>\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20successMsg.style.display\x20=\x20\x27none\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20},\x203000);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20await\x20loadSub2();\x20//\x20等待\x20loadSub2\x20完成\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20document.getElementById(\x27sub2Input\x27).value\x20=\x20\x27\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20alert(\x27更新失败，请重试\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x20catch\x20(error)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20alert(\x27更新操作时发生错误\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20console.error(\x27Error\x20updating\x20sub2:\x27,\x20error);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20async\x20function\x20loadSub2()\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(!isLoggedIn)\x20return;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20try\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20response\x20=\x20await\x20fetch(`${getDomain()}/get-sub2-${UUID}`);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(response.ok)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20data\x20=\x20await\x20response.json();\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20listContainer\x20=\x20document.getElementById(\x27currentSub2List\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20listContainer.innerHTML\x20=\x20\x27\x27;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data.urls.forEach((url,\x20index)\x20=>\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20item\x20=\x20document.createElement(\x27div\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20item.className\x20=\x20\x27sub2-item\x27;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20urlSpan\x20=\x20document.createElement(\x27span\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20urlSpan.className\x20=\x20\x27sub2-url\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20urlSpan.textContent\x20=\x20url;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20deleteBtn\x20=\x20document.createElement(\x27button\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20deleteBtn.className\x20=\x20\x27delete-btn\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20deleteBtn.textContent\x20=\x20\x27删除\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20deleteBtn.onclick\x20=\x20()\x20=>\x20deleteSub2Url(index);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20item.appendChild(urlSpan);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20item.appendChild(deleteBtn);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20listContainer.appendChild(item);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20});\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20console.error(\x27Failed\x20to\x20load\x20Sub2\x20URLs:\x27,\x20response.statusText);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x20catch\x20(error)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20console.error(\x27Error\x20loading\x20Sub2\x20URLs:\x27,\x20error);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20async\x20function\x20deleteSub2Url(index)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(!isLoggedIn)\x20return;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20try\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20response\x20=\x20await\x20fetch(`${getDomain()}/delete-sub2-${UUID}`,\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20method:\x20\x27POST\x27,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20headers:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x27Content-Type\x27:\x20\x27application/json\x27,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20},\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body:\x20JSON.stringify({\x20index\x20})\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20});\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(response.ok)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20loadSub2();\x20//\x20Refresh\x20the\x20list\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20alert(\x27删除失败，请重试\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x20catch\x20(error)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20alert(\x27删除操作时发生错误\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20console.error(\x27Error\x20deleting\x20Sub2\x20URL:\x27,\x20error);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20async\x20function\x20deleteAllSub2Urls(){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(!isLoggedIn)\x20return;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(!confirm(\x27确定要删除所有自定义节点/链接吗？此操作不可撤销。\x27))\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20try\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20response\x20=\x20await\x20fetch(`${getDomain()}/delete-all-sub2-${UUID}`,{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20method:\x20\x27POST\x27\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20});\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(response.ok)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20loadSub2();\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20alert(\x27所有自定义节点/链接已删除\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20alert(\x27全部删除失败，请重试\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x20catch\x20(error)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20alert(\x27删除操作时发生错误\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20console.error(\x27Error\x20deleting\x20all\x20Sub2\x20URLs:\x27,\x20error);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20关键词过滤管理\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20async\x20function\x20updateKeywords()\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(!isLoggedIn)\x20return;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20content\x20=\x20document.getElementById(\x27keywordInput\x27).value;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20newKeywords\x20=\x20content.split(\x27\x5cn\x27).filter(keyword\x20=>\x20keyword.trim());\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20try\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20response\x20=\x20await\x20fetch(`${getDomain()}/update-keywords-${UUID}`,\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20method:\x20\x27POST\x27,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20headers:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x27Content-Type\x27:\x20\x27application/json\x27,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20},\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body:\x20JSON.stringify({\x20newKeywords\x20}),\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20});\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(response.ok)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20successMsg\x20=\x20document.getElementById(\x27keywordSuccessMessage\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20successMsg.style.display\x20=\x20\x27block\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20setTimeout(()\x20=>\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20successMsg.style.display\x20=\x20\x27none\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20},\x203000);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20document.getElementById(\x27keywordInput\x27).value\x20=\x20\x27\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20loadKeywords();\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20alert(\x27更新失败，请重试\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x20catch\x20(error)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20alert(\x27更新操作时发生错误\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20console.error(\x27Error\x20updating\x20keywords:\x27,\x20error);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20async\x20function\x20loadKeywords()\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(!isLoggedIn)\x20return;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20try\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20response\x20=\x20await\x20fetch(`${getDomain()}/get-keywords-${UUID}`);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(response.ok)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20data\x20=\x20await\x20response.json();\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20listContainer\x20=\x20document.getElementById(\x27currentKeywordList\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20listContainer.innerHTML\x20=\x20\x27\x27;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data.keywords.forEach((keyword,\x20index)\x20=>\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20item\x20=\x20document.createElement(\x27div\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20item.className\x20=\x20\x27keyword-item\x27;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20keywordSpan\x20=\x20document.createElement(\x27span\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20keywordSpan.className\x20=\x20\x27keyword-text\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20keywordSpan.textContent\x20=\x20keyword;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20deleteBtn\x20=\x20document.createElement(\x27button\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20deleteBtn.className\x20=\x20\x27delete-btn\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20deleteBtn.textContent\x20=\x20\x27删除\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20deleteBtn.onclick\x20=\x20()\x20=>\x20deleteKeyword(index);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20item.appendChild(keywordSpan);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20item.appendChild(deleteBtn);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20listContainer.appendChild(item);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20});\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20console.error(\x27Failed\x20to\x20load\x20keywords:\x27,\x20response.statusText);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x20catch\x20(error)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20console.error(\x27Error\x20loading\x20keywords:\x27,\x20error);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20async\x20function\x20deleteKeyword(index)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(!isLoggedIn)\x20return;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20try\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20response\x20=\x20await\x20fetch(`${getDomain()}/delete-keyword-${UUID}`,\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20method:\x20\x27POST\x27,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20headers:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x27Content-Type\x27:\x20\x27application/json\x27,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20},\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body:\x20JSON.stringify({\x20index\x20})\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20});\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(response.ok)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20loadKeywords();\x20//\x20Refresh\x20the\x20list\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20alert(\x27删除失败，请重试\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x20catch\x20(error)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20alert(\x27删除操作时发生错误\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20console.error(\x27Error\x20deleting\x20keyword:\x27,\x20error);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20async\x20function\x20deleteAllKeywords(){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(!isLoggedIn)\x20return;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(!confirm(\x27确定要删除所有过滤关键词吗？\x27))\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20try\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20response\x20=\x20await\x20fetch(`${getDomain()}/delete-all-keywords-${UUID}`,{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20method:\x20\x27POST\x27\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20});\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(response.ok)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20loadKeywords();\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20alert(\x27所有过滤关键词已删除\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20alert(\x27全部删除失败，请重试\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x20catch\x20(error)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20alert(\x27删除操作时发生错误\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20console.error(\x27Error\x20deleting\x20all\x20keywords:\x27,\x20error);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20document.getElementById(\x27password\x27).addEventListener(\x27keypress\x27,\x20function(e)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(e.key\x20===\x20\x27Enter\x27\x20&&\x20!this.disabled)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20login();\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20});\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20//\x20Check\x20if\x20already\x20logged\x20in\x20(e.g.,\x20via\x20session\x20storage\x20if\x20implemented)\x0a\x20\x20\x20\x20\x20\x20\x20\x20//\x20Simple\x20check:\x20if\x20infoBox\x20is\x20visible,\x20assume\x20logged\x20in\x0a\x20\x20\x20\x20\x20\x20\x20\x20//\x20if\x20(document.getElementById(\x27infoBox\x27).style.display\x20===\x20\x27block\x27)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20//\x20\x20\x20\x20\x20isLoggedIn\x20=\x20true;\x0a\x20\x20\x20\x20\x20\x20\x20\x20//\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20//\x20Removed\x20the\x20above\x20check\x20as\x20it\x20relies\x20on\x20initial\x20state\x20which\x20might\x20not\x20be\x20accurate.\x0a\x20\x20\x20\x20\x20\x20\x20\x20//\x20Login\x20is\x20the\x20only\x20way\x20to\x20set\x20isLoggedIn\x20=\x20true\x20currently.\x0a\x0a\x20\x20\x20\x20</script>\x0a</body>\x0a</html>','cf_port','pathname','<!DOCTYPE\x20html>\x0a<html\x20lang=\x22en\x22>\x0a<head>\x0a\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20<meta\x20name=\x22viewport\x22\x20content=\x22width=device-width,\x20initial-scale=1.0\x22>\x0a\x20\x20\x20\x20<title>订阅管理</title>\x0a\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20body\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Arial\x27,\x20sans-serif;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin:\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20padding:\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background-image:\x20url(\x27\x27);\x20/*\x20Initial\x20background-image\x20is\x20set\x20in\x20JS\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background-size:\x20cover;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background-position:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background-repeat:\x20no-repeat;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20justify-content:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20align-items:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x20100vh;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20.container\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20rgba(255,\x20255,\x20255,\x200.9);\x20/*\x20半透明背景\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20padding:\x2030px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x2012px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20box-shadow:\x200\x204px\x2010px\x20rgba(0,0,0,0.3);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20max-width:\x20900px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20width:\x2090%;\x20/*\x20响应式宽度\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20h1\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20text-align:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-bottom:\x2020px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20color:\x20#333;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20text-shadow:\x201px\x201px\x202px\x20rgba(0,0,0,0.1);\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20.password-form\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-bottom:\x2020px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20justify-content:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20align-items:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gap:\x2010px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20.info-box\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20none;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20rgba(248,\x20249,\x20250,\x200.9);\x20/*\x20半透明背景\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border:\x201px\x20solid\x20#dee2e6;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20padding:\x2020px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-top:\x2020px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20input[type=\x22password\x22],\x20input[type=\x22text\x22],\x20textarea\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20padding:\x2012px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-right:\x2010px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border:\x201px\x20solid\x20#ddd;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x206px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20width:\x20calc(100%\x20-\x2024px);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-bottom:\x2010px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20transition:\x20border-color\x200.3s,\x20box-shadow\x200.3s;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20box-sizing:\x20border-box;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20input[type=\x22password\x22]:focus,\x20input[type=\x22text\x22]:focus,\x20textarea:focus{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-color:\x20#007bff;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20box-shadow:\x200\x200\x205px\x20rgba(0,123,255,0.5);\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20textarea\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x20120px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20monospace;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20button\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20padding:\x2012px\x2024px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20#007bff;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20color:\x20white;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border:\x20none;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x206px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20cursor:\x20pointer;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20transition:\x20background-color\x200.3s,\x20transform\x200.2s;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20button:disabled\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20#cccccc;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20cursor:\x20not-allowed;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20button:hover:not(:disabled)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20#0056b3;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20transform:\x20translateY(-2px);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20.url\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20word-break:\x20break-all;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin:\x2010px\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20padding:\x2015px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20#e9ecef;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x206px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20.copy-btn\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20#28a745;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-left:\x2010px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20transition:\x20background-color\x200.3s,\x20transform\x200.2s;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20.copy-btn:hover:not(:disabled)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20#218838;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20transform:\x20translateY(-2px);\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20.current-list,\x20.current-sub2-list,\x20.current-keyword-list{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-top:\x2010px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20max-height:\x20350px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20overflow-y:\x20auto;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20.list-item,\x20.sub2-item,\x20.keyword-item{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20align-items:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20padding:\x2012px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20#f8f9fa;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border:\x201px\x20solid\x20#dee2e6;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-bottom:\x205px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x206px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20.list-url,\x20.sub2-url,\x20.keyword-text\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20flex-grow:\x201;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20word-break:\x20break-all;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-right:\x2010px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20.delete-btn\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20#dc3545;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20color:\x20white;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border:\x20none;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20padding:\x208px\x2016px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x206px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20cursor:\x20pointer;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20transition:\x20background-color\x200.3s,\x20transform\x200.2s;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20.delete-btn:hover\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20#c82333;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20transform:\x20translateY(-2px);\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20.management-section\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-top:\x2020px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20padding-top:\x2020px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-top:\x201px\x20solid\x20#dee2e6;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20.success-message\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20color:\x20#28a745;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-top:\x2010px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20none;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20.error-message\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20color:\x20#dc3545;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-top:\x2010px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20none;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20.menu\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20justify-content:\x20space-around;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-bottom:\x2020px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20flex-wrap:\x20wrap;\x20/*\x20Added\x20to\x20handle\x20smaller\x20screens\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20.menu\x20button\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20padding:\x2012px\x2018px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20#007bff;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20color:\x20white;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border:\x20none;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x206px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20cursor:\x20pointer;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20transition:\x20background-color\x200.3s,\x20transform\x200.2s;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin:\x205px;\x20/*\x20Added\x20to\x20handle\x20smaller\x20screens\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20.menu\x20button:hover\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20#0056b3;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20transform:\x20translateY(-2px);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20.tab-content\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20none;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20.tab-content.active\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20#loading\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20none;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20text-align:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-top:\x2020px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20.copyright\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20text-align:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-top:\x2020px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20color:\x20#777;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20</style>\x0a</head>\x0a<body>\x0a\x20\x20\x20\x20<div\x20class=\x22container\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h1>节点自动上传聚合订阅管理系统</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22password-form\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22password\x22\x20id=\x22password\x22\x20placeholder=\x22请输入密码\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22login()\x22\x20id=\x22loginBtn\x22>提交</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22loading\x22>Loading...</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22errorMessage\x22\x20class=\x22error-message\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22infoBox\x22\x20class=\x22info-box\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22menu\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22showTab(\x27home\x27)\x22>首页</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22showTab(\x27upload\x27)\x22>自动上传节点管理</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22showTab(\x27sub2\x27)\x22>自定义节点或链接</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22showTab(\x27keywords\x27)\x22>关键词过滤</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22home\x22\x20class=\x22tab-content\x20active\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3>节点上传地址：</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22url\x22\x20id=\x22uploadUrl\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22copy-btn\x22\x20onclick=\x22copyToClipboard(\x27uploadUrl\x27)\x22>复制</button>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3>订阅地址(优选域名ip.sb和端口443可自行更改)：</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22url\x22\x20id=\x22downloadUrl\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22copy-btn\x22\x20onclick=\x22copyToClipboard(\x27downloadUrl\x27)\x22>复制</button>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3>使用说明：</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ol>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<li>节点原始优选域名要设置为ip.sb，端口443或8443，否则也不影响使用，只是不支持自动更换优选IP和端口</li>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<li>订阅链接参数：cf_ip和cf_port必填，可以自动替换优选域名和端口</li>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<li>默认支持v2r.ayng,hid.dify,neko等软件，其他软件自行转换格式</li>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ol>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22upload\x22\x20class=\x22tab-content\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3>当前节点列表：</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22currentList\x22\x20class=\x22current-list\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22loadUrls()\x22\x20class=\x22load-btn\x22>刷新列表</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22deleteAllUrls()\x22\x20class=\x22delete-btn\x22>全部删除</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sub2\x22\x20class=\x22tab-content\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3>添加自定义节点或订阅链接(仅v2格式)：</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22sub2Input\x22\x20placeholder=\x22每行一个URL\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22updateSub2()\x22>添加更新</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sub2SuccessMessage\x22\x20class=\x22success-message\x22>更新成功！</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3>当前自定义节点列表：</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22currentSub2List\x22\x20class=\x22current-sub2-list\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22loadSub2()\x22\x20class=\x22load-btn\x22>刷新列表</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22deleteAllSub2Urls()\x22\x20class=\x22delete-btn\x22>全部删除</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22keywords\x22\x20class=\x22tab-content\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3>添加关键词过滤：</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22keywordInput\x22\x20placeholder=\x22每行一个关键词\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22updateKeywords()\x22>添加更新</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22keywordSuccessMessage\x22\x20class=\x22success-message\x22>更新成功！</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3>当前关键词列表：</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22currentKeywordList\x22\x20class=\x22current-keyword-list\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22loadKeywords()\x22\x20class=\x22load-btn\x22>刷新列表</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22deleteAllKeywords()\x22\x20class=\x22delete-btn\x22>全部删除</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22copyright\x22>版权所有:FsMs\x20©\x20Copyright\x202025</div>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20UUID\x20=\x20\x27','Invalid\x20data\x20format\x20for\x20key\x20','encode','DEFAULT_DOMAIN','/get-sub2-','Deleted\x20all\x20sub2\x20URLs.','4boZZzB','exclude_keywords','24VybkkC','8080','Error\x20in\x20handleToken:','tls','name','Index\x20out\x20of\x20bounds','Scheduled\x20task:\x20Successfully\x20initiated\x20deletion\x20for\x20','27957XCeyvD','stringify','Error\x20encoding\x20string\x20to\x20Base64:','/sub-','vmess://','charAt','Error\x20decoding\x20special\x20format\x20URL:','30lEBfFy','ess://','Error\x20encoding\x20final\x20content\x20to\x20Base64','push','cf_ip','waitUntil','Error\x20deleting\x20sub2\x20URL','/get-keywords-','url','splice','toISOString','Error\x20updating\x20keywords:','3519790qeHHBM','filter','https://','log','/update-sub2-','Error\x20processing\x20upload','Error\x20getting\x20exclude\x20keywords\x20from\x20KV:','UUID','Error\x20updating\x20sub2_urls','Successfully\x20decoded\x20and\x20split\x20Base64\x20subscription:\x20','ess','trimStart','trim','Deleted\x20sub2\x20URL\x20at\x20index\x20','ip.sb','method','then','/delete-all-sub2-','Server\x20configuration\x20error.','\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20UP\x20=\x20\x27','\x20URLs\x20with\x20prefix\x20\x27url_\x27.','flat','Error\x20deleting\x20all\x20sub2\x20URLs:','none','Skipping\x20update\x20for\x20','Failed\x20to\x20fetch\x20subscription\x20','\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20MAX_ATTEMPTS\x20=\x20','Error\x20parsing\x20exclude_keywords\x20from\x20KV:','Failed\x20login\x20attempt\x20for\x20path:\x20','Timeout\x20fetching\x20','/delete-all-urls-','race','map','Error\x20in\x20handleUpload:','keys','1843908luzAot','\x20auto-uploaded\x20nodes\x20to\x20delete.','Error\x20deleting\x20all\x20URLs','Error\x20handling\x20request\x20','POST',';\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20BACKGROUND_IMAGES\x20=\x20\x27','/login','get','/get-','Error\x20deleting\x20all\x20keywords:','Error\x20deleting\x20all\x20keywords','string','KV\x20exclude_keywords\x20is\x20not\x20an\x20array:','scheduledTime','Hello\x20World\x20from\x20kv-worker18!','\x20due\x20to\x20error:\x20','Error\x20during\x20scheduled\x20task\x20execution:','441110gisXwr','delete','cron','Invalid\x20index\x20provided','Scheduled\x20task:\x20Deletion\x20process\x20initiated\x20for\x20','Error\x20deleting\x20URL:','Error\x20getting\x20SUB2\x20URLs\x20from\x20KV:','url_','Deleted\x20URL:\x20url_','No\x20URLs\x20to\x20delete','Missing\x20or\x20invalid\x20URL_NAME\x20or\x20URL','isInteger','Deleted\x20keyword\x20at\x20index\x20','all','/upload-','Error\x20deleting\x20all\x20URLs:','MAX_LOGIN_ATTEMPTS','text/plain;\x20charset=utf-8','Error\x20during\x20login:','Updated\x20exclusion\x20keywords.\x20Total:\x20','some','Skipping\x20subscription\x20','/update-','/delete-url-','parse','Uploaded/Updated\x20node:\x20','2664976fNcgBz','startsWith','message','Error\x20parsing\x20url\x20value\x20for\x20key','substring','Internal\x20Server\x20Error\x20processing\x20request','://','length','number','EXPIRATION_TIME','replace','2587896dgdTDT','\x20new\x20potential\x20entries.','Scheduled\x20task\x20triggered\x20by\x20cron:\x20','fromCharCode','Error\x20updating\x20exclude\x20keywords\x20in\x20KV:','6871655KzIEgY','split','join','shouldExcludeUrlByKV\x20received\x20non-string\x20input:','/get-urls-','Error\x20deleting\x20keyword:','/token=','sort','/update-keywords-','text','Skipping\x20upload\x20for\x20','Scheduled\x20task:\x20Starting\x20deletion\x20of\x20auto-uploaded\x20nodes...','toLowerCase','json','error',',\x20will\x20overwrite.','/delete-','application/json','Error\x20getting\x20all\x20URLs\x20from\x20KV:','Invalid\x20urlName\x20provided','\x20keys.','\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20TOKEN\x20=\x20\x27','warn',';security=none','xieyi2','isArray','sub2_urls','Error\x20deleting\x20sub2\x20URL:','&tls=0','put','includes','Scheduled\x20task:\x20Queuing\x20deletion\x20for\x20key:\x20'];_0x419b=function(){return _0x396afd;};return _0x419b();}async function handleDeleteKeyword(_0x3d995e,_0x3247cc){const _0x2098ba=_0x358ab6;try{const {index:_0x21d411}=await _0x3d995e[_0x2098ba(0xc4)]();if(typeof _0x21d411!==_0x2098ba(0xaf)||!Number[_0x2098ba(0x13e)](_0x21d411)||_0x21d411<0x0)return new Response(_0x2098ba(0x136),{'status':0x190});const _0x4246cc=await getExcludeKeywords(_0x3247cc);if(_0x21d411>=_0x4246cc[_0x2098ba(0xae)])return new Response(_0x2098ba(0xea),{'status':0x190});const _0x480740=_0x4246cc[_0x2098ba(0xfc)](_0x21d411,0x1);return await updateExcludeKeywords(_0x3247cc,_0x4246cc),console[_0x2098ba(0x102)](_0x2098ba(0x13f)+_0x21d411+':\x20'+_0x480740[0x0]),new Response('OK',{'status':0xc8});}catch(_0x324011){return console[_0x2098ba(0xc5)](_0x2098ba(0xbc),_0x324011),new Response('Error\x20deleting\x20keyword',{'status':0x1f4});}}async function handleDeleteAllKeywords(_0x13b2c5){const _0x2d6c05=_0x358ab6;try{return await _0x13b2c5['KV']['delete'](_0x2d6c05(0xe4)),console['log']('Deleted\x20all\x20exclusion\x20keywords.'),new Response('OK',{'status':0xc8});}catch(_0x13eeec){return console[_0x2d6c05(0xc5)](_0x2d6c05(0x12b),_0x13eeec),new Response(_0x2d6c05(0x12c),{'status':0x1f4});}}async function handleUpload(_0x53f17d,_0xa63ba){const _0x4ed9c7=_0x358ab6;try{const {URL_NAME:_0x4a9a14,URL:_0x62d33e}=await _0x53f17d['json']();if(!_0x4a9a14||typeof _0x4a9a14!==_0x4ed9c7(0x12d)||!_0x62d33e||typeof _0x62d33e!==_0x4ed9c7(0x12d))return new Response(_0x4ed9c7(0x13d),{'status':0x190});const _0x1cb775=_0x4a9a14[_0x4ed9c7(0x10b)]();if(!_0x1cb775)return new Response('URL_NAME\x20cannot\x20be\x20empty',{'status':0x190});let _0x2965c8=preProcessUrl(_0x62d33e['trim']());if(await shouldExcludeUrlByKV(_0x2965c8,_0xa63ba))return console[_0x4ed9c7(0x102)](_0x4ed9c7(0xc1)+_0x1cb775+'\x20due\x20to\x20exclusion\x20keyword\x20match.'),new Response('OK\x20(Excluded)',{'status':0xc8});const _0x1a1777={'expirationTtl':CONFIG[_0x4ed9c7(0xb0)]},_0xcb0649=_0x4ed9c7(0x13a)+_0x1cb775,_0x343d7a=await _0xa63ba['KV'][_0x4ed9c7(0x129)](_0xcb0649);let _0x36fdad=!![];if(_0x343d7a)try{const _0x3509e9=JSON[_0x4ed9c7(0x14b)](_0x343d7a);_0x3509e9&&_0x3509e9['url']===_0x2965c8&&(_0x36fdad=![],console[_0x4ed9c7(0x102)](_0x4ed9c7(0x117)+_0x1cb775+',\x20URL\x20unchanged.'));}catch(_0x2a61b7){console[_0x4ed9c7(0xcd)]('Error\x20parsing\x20existing\x20KV\x20data\x20for\x20'+_0xcb0649+_0x4ed9c7(0xc6),_0x2a61b7);}return _0x36fdad&&(await _0xa63ba['KV']['put'](_0xcb0649,JSON[_0x4ed9c7(0xed)]({'url':_0x2965c8}),_0x1a1777),console['log'](_0x4ed9c7(0x14c)+_0x1cb775+'\x20with\x20expiration\x20'+CONFIG[_0x4ed9c7(0xb0)]+'s')),new Response('OK',{'status':0xc8});}catch(_0x3d0462){return console['error'](_0x4ed9c7(0x120),_0x3d0462),new Response(_0x4ed9c7(0x104),{'status':0x1f4});}}async function handleToken(_0x2e1e6a,_0x3c532e){const _0x21ee8e=_0x358ab6,{searchParams:_0x1b8a6d}=new URL(_0x2e1e6a[_0x21ee8e(0xfb)]),_0x1000c8=_0x1b8a6d[_0x21ee8e(0x129)](_0x21ee8e(0xf7)),_0x313fe2=_0x1b8a6d[_0x21ee8e(0x129)](_0x21ee8e(0xdb));if(!_0x1000c8||!_0x313fe2)return new Response('Missing\x20cf_ip\x20or\x20cf_port\x20in\x20query\x20parameters',{'status':0x190});try{let _0x2baa23=await getAllUrls(_0x3c532e),_0x3722bc=await getSub2Urls(_0x3c532e),_0x4f3b4b=[..._0x2baa23[_0x21ee8e(0x11f)](_0x3ef9b8=>_0x3ef9b8['url']),..._0x3722bc];const _0x10c349=await getExcludeKeywords(_0x3c532e),_0x3b8d3d=(excludeKeywords||'')[_0x21ee8e(0xb8)](';')['map'](_0x578155=>_0x578155[_0x21ee8e(0x10b)]())[_0x21ee8e(0x100)](_0x3cbe8f=>_0x3cbe8f),_0x90c95b=[...new Set([..._0x10c349,..._0x3b8d3d])],_0x5c57d8=_0x4f3b4b[_0x21ee8e(0x100)](_0x1cd05e=>typeof _0x1cd05e==='string'&&!_0x90c95b[_0x21ee8e(0x147)](_0x27f9f5=>_0x27f9f5&&_0x1cd05e['includes'](_0x27f9f5)));let _0x474583=_0x5c57d8[_0x21ee8e(0x11f)](_0x15bb9b=>{const _0x26f4a8=_0x21ee8e;let _0x3dc219=_0x15bb9b;if(_0x3dc219['includes']('YOUXUAN_IP')||_0x3dc219['includes'](_0x26f4a8(0x10d))){_0x3dc219=_0x3dc219[_0x26f4a8(0xb1)](/YOUXUAN_IP|ip\.sb/g,_0x1000c8),_0x3dc219=_0x3dc219[_0x26f4a8(0xb1)](/\b(443|8443)\b/g,_0x313fe2),_0x3dc219=_0x3dc219['replace'](/CF_PORT/g,_0x313fe2);if(_0x313fe2==='80'||_0x313fe2===_0x26f4a8(0xe6)){try{if(_0x3dc219[_0x26f4a8(0xa8)](_0x26f4a8(0xf0))){let _0x218d72=atob(_0x3dc219[_0x26f4a8(0xab)](0x8)),_0x1c9bf3=JSON[_0x26f4a8(0x14b)](_0x218d72);_0x1c9bf3[_0x26f4a8(0xe8)]===_0x26f4a8(0xe8)&&(_0x1c9bf3[_0x26f4a8(0xe8)]=_0x26f4a8(0x116),_0x3dc219=_0x26f4a8(0xf0)+btoa(JSON['stringify'](_0x1c9bf3)));}}catch(_0x4e437d){}_0x3dc219=_0x3dc219[_0x26f4a8(0xb1)](/;tls=true/g,''),_0x3dc219=_0x3dc219[_0x26f4a8(0xb1)](/;security=tls/g,_0x26f4a8(0xce)),_0x3dc219=_0x3dc219['replace'](/&tls=1/g,_0x26f4a8(0xd3)),_0x3dc219=_0x3dc219[_0x26f4a8(0xb1)](/tls=tls/g,'tls=none'),_0x3dc219=_0x3dc219[_0x26f4a8(0xb1)](/security=tls/g,'security=none');}}else _0x3dc219=_0x3dc219[_0x26f4a8(0xb1)](/YOUXUAN_IP/g,_0x1000c8),_0x3dc219=_0x3dc219[_0x26f4a8(0xb1)](/CF_PORT/g,_0x313fe2);return _0x3dc219;});async function _0x2b6af6(_0x3ac5e0,_0x470d38=0x4e20){const _0x5a0365=_0x21ee8e,_0x2272ad=_0x3ac5e0[_0x5a0365(0xc3)]();if(!_0x2272ad['startsWith']('http://')&&!_0x2272ad[_0x5a0365(0xa8)](_0x5a0365(0x101)))return[_0x3ac5e0];try{const _0xffaae3=new Promise((_0x21442b,_0x4e11f7)=>{const _0x33bac9=_0x5a0365;setTimeout(()=>_0x4e11f7(new Error(_0x33bac9(0x11c)+_0x3ac5e0)),_0x470d38);}),_0x9e2825=fetch(_0x3ac5e0,{'headers':{'User-Agent':_0x5a0365(0xd8)}}),_0x275d33=await Promise[_0x5a0365(0x11e)]([_0x9e2825,_0xffaae3]);if(!_0x275d33['ok'])return console[_0x5a0365(0xcd)](_0x5a0365(0x118)+_0x3ac5e0+':\x20'+_0x275d33['status']+'\x20'+_0x275d33['statusText']),[];let _0x530352=await _0x275d33[_0x5a0365(0xc0)](),_0x77d533=[];try{const _0x128ad4=atob(_0x530352);_0x77d533=_0x128ad4['split'](/[\r\n]+/)[_0x5a0365(0x11f)](_0x475c19=>_0x475c19[_0x5a0365(0x10b)]())[_0x5a0365(0x100)](_0x37c769=>_0x37c769),console[_0x5a0365(0x102)](_0x5a0365(0x108)+_0x3ac5e0);}catch(_0x10cb42){_0x77d533=_0x530352[_0x5a0365(0xb8)](/[\r\n]+/)[_0x5a0365(0x11f)](_0x28379=>_0x28379[_0x5a0365(0x10b)]())['filter'](_0x5d8da1=>_0x5d8da1),console[_0x5a0365(0x102)]('Treating\x20subscription\x20as\x20plain\x20text\x20(Base64\x20decode\x20failed\x20or\x20not\x20encoded):\x20'+_0x3ac5e0);}return _0x77d533[_0x5a0365(0x100)](_0x1ed549=>typeof _0x1ed549===_0x5a0365(0x12d)&&!_0x90c95b['some'](_0x54beb4=>_0x54beb4&&_0x1ed549[_0x5a0365(0xd5)](_0x54beb4)));}catch(_0x34439e){return console[_0x5a0365(0xcd)](_0x5a0365(0x148)+_0x3ac5e0+_0x5a0365(0x131)+_0x34439e[_0x5a0365(0xa9)]),[];}}const _0x14c9ff=_0x474583['map'](_0x544bad=>_0x2b6af6(_0x544bad)),_0x19f825=await Promise[_0x21ee8e(0x140)](_0x14c9ff);let _0x7ce5d3=_0x19f825[_0x21ee8e(0x114)]();_0x7ce5d3=_0x7ce5d3[_0x21ee8e(0x11f)](_0x1f1feb=>{const _0x370d09=_0x21ee8e;if(_0x1f1feb[_0x370d09(0xa8)](''+PROTOCOL['pm']+PROTOCOL['xieyi2']+'://')){const _0x50a37b=_0x1f1feb[_0x370d09(0xb8)]('://')[0x1];if(_0x50a37b&&_0x50a37b[_0x370d09(0x10a)]()[_0x370d09(0xf1)](0x0)==='{')try{let _0x48c41f=_0x1f1feb[_0x370d09(0xab)]((''+PROTOCOL['pm']+PROTOCOL[_0x370d09(0xcf)]+_0x370d09(0xad))[_0x370d09(0xae)]),_0x7dee19=btoa(_0x48c41f);return''+PROTOCOL['pm']+PROTOCOL[_0x370d09(0xcf)]+'://'+_0x7dee19;}catch(_0x2ad367){return console[_0x370d09(0xc5)]('Error\x20re-encoding\x20special\x20format\x20URL:\x20'+_0x2ad367,_0x1f1feb),_0x1f1feb;}}return _0x1f1feb;});let _0x2c6bff=_0x7ce5d3[_0x21ee8e(0xb9)]('\x0a'),_0x28c904=encodeToBase64(_0x2c6bff);if(_0x28c904===null)return new Response(_0x21ee8e(0xf5),{'status':0x1f4});return new Response(_0x28c904,{'headers':{'Content-Type':_0x21ee8e(0x144)}});}catch(_0x59ac2f){return console[_0x21ee8e(0xc5)](_0x21ee8e(0xe7),_0x59ac2f),new Response(_0x21ee8e(0xac),{'status':0x1f4});}}function encodeToBase64(_0x2c04d4){const _0x66fb5e=_0x358ab6;try{const _0x3ac762=new TextEncoder(),_0xd3b48d=_0x3ac762[_0x66fb5e(0xdf)](_0x2c04d4),_0xda0aa5=btoa(String[_0x66fb5e(0xb5)](..._0xd3b48d));return _0xda0aa5;}catch(_0x4e4aee){return console[_0x66fb5e(0xc5)](_0x66fb5e(0xee),_0x4e4aee),null;}}
